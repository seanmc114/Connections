// Connections Game (Synge Street CBS) â€” Simplified core version

document.addEventListener("DOMContentLoaded", () => {
  const levelList = document.getElementById("level-list");
  const mainMenu = document.getElementById("main-menu");
  const gameSection = document.getElementById("game");
  const questionsDiv = document.getElementById("questions");
  const resultsDiv = document.getElementById("results");
  const timerDisplay = document.getElementById("timer");
  const levelLabel = document.getElementById("level-label");
  const submitBtn = document.getElementById("submit");
  const backBtn = document.getElementById("back-button");

  // Game state
  let currentLevel = 1;
  let startTime = 0;
  let timer = null;
  let quiz = [];

  // Local storage helpers
  const getBest = lvl => parseInt(localStorage.getItem(`connections_best_${lvl}`)) || null;
  const saveBest = (lvl, score) => {
    const prev = getBest(lvl);
    if (!prev || score < prev) localStorage.setItem(`connections_best_${lvl}`, score);
  };
  const isUnlocked = lvl => lvl === 1 || localStorage.getItem(`connections_unlocked_${lvl}`) === "true";
  const unlock = lvl =>
